webpackJsonp([36],{431:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(729),a=e(730),o=e(11),n=o(s.a,a.a,null,null,null);i.default=n.exports},729:function(t,i,e){"use strict";var s=e(141),a=e(140),o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};i.a={name:"edge",props:["id"],components:{ContentHeader:s.a,cSwitch:a.a},data:function(){return{name:"Edge 상세",hostName:"",ip:"",originItems:{},items:{edgeCoreConfigId:1,edgeId:5,processId:null,edgeCoreConfigRequestData:"",coreConfigCompList:[{diskMountSize:0}],diskSize:1e3,edgeCoreConfigApplyYn:!1,modifyHistReason:""},code:{popId:[],serviceTypeCode:[]},history:{fields:{createId:{label:"등록/수정자",class:"text-left"},histBeginDateTime:{label:"등록/수정일시"},modifyHistReason:{label:"변경이력",class:"text-left"},histMgmtId:{label:"보기"}},items:[]},isLoad:{popId:!0,serviceTypeCode:!0},isEdit:!1,isCreate:!1,isModalHistory:!1,deploy:{status:!0,count:11234}}},computed:{total:function(){return this.items.coreConfigCompList.map(function(t){var i=t.diskMountSize;return parseInt(i)}).reduce(function(t,i){return t+i})}},created:function(){var t=this,i=this.$route.query.histories,e=void 0!==i?"/edges/"+this.id+"/cores/histories/"+i:"/edges/"+this.id+"/cores";i&&document.querySelector("body.app").classList.add("history-mode"),this.$https.get("/edges/"+this.id).then(function(i){var e=i.data.items,s=e.hostName,a=e.ip;t.hostName=s,t.ip=a}),this.$https.get(e).then(function(i){var e=JSON.parse(i.data.items.edgeCoreConfigRequestData);t.items=o({},t.items,i.data.items,{edgeCoreConfigRequestData:JSON.stringify(e,null,4)}),t.originItems=JSON.parse(JSON.stringify(t.items))}).catch(function(){t.isCreate=!0,t.isEdit=!0})},methods:{onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var t=this,i=this.items.coreConfigCompList.map(function(t){return{diskMountPath:t.diskMountPath,diskMountSize:t.diskMountSize}}),e=this.items.modifyHistReason;this.isCreate?this.$https.post("/edges/"+this.id+"/cores",{coreConfigCompList:i,modifyHistReason:e}).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){console.log(t)}):this.$https.put("/edges/"+this.id+"/cores",{coreConfigCompList:i,modifyHistReason:e}).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){console.log(t)})},onAddList:function(){this.items.coreConfigCompList.push({edgeCoreConfigCompSeq:this.items.coreConfigCompList.length,diskMountPath:"",diskMountSize:0})},onDelList:function(t){this.items.coreConfigCompList.splice(t,1)},getHistoryLink:function(t){return"#/configuration/edge/"+this.id+"/core?histories="+t},showHistory:function(){var t=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/edges/"+this.id+"/histories").then(function(i){t.history.items=i.data.items})}}}},730:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"animated fadeIn"},[e("content-header",{attrs:{title:t.hostName,small:t.ip,name:t.name}}),t._v(" "),e("div",{staticClass:"collapse-title"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],attrs:{variant:"secondary",block:!0}},[t._v("\n      기본정보\n      "),e("i",{staticClass:"fa fa-angle-down"})])],1),t._v(" "),e("b-collapse",{attrs:{id:"formDefault",visible:""}},[e("b-card",[e("b-form-fieldset",{attrs:{label:"Disk size","label-cols":3,horizontal:!0}},[e("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"text",plaintext:""},model:{value:t.items.diskSize,callback:function(i){t.items.diskSize=i},expression:"items.diskSize"}}),t._v("\n        GB\n      ")],1),t._v(" "),e("b-form-fieldset",{attrs:{label:"&nbsp;","label-cols":3,horizontal:!0}},[t.isEdit?e("b-button",{staticClass:"mt-2 mb-2",attrs:{type:"button",size:"sm",variant:"outline-primary"},on:{click:t.onAddList}},[e("i",{staticClass:"fa fa-plus"}),t._v(" 추가\n        ")]):t._e(),t._v(" "),e("ul",{staticClass:"icons-list"},[t._l(t.items.coreConfigCompList,function(i,s){return e("li",[e("i",{staticClass:"bg-primary"},[t._v(t._s(i.edgeCoreConfigCompSeq))]),t._v(" "),e("div",{staticClass:"desc edge"},[e("small",[t._v("Disk mounts path")]),t._v(" "),e("div",{staticClass:"title"},[e("b-form-input",{staticClass:"sm",attrs:{type:"text",plaintext:!t.isEdit},model:{value:i.diskMountPath,callback:function(t){i.diskMountPath=t},expression:"comp.diskMountPath"}})],1)]),t._v(" "),e("div",{staticClass:"value text-left",staticStyle:{width:"145px"}},[e("div",{staticClass:"small text-muted"},[t._v("Disk Size")]),t._v(" "),e("b-form-input",{staticClass:"inline sm",staticStyle:{width:"80px"},attrs:{type:"text",plaintext:!t.isEdit},model:{value:i.diskMountSize,callback:function(t){i.diskMountSize=t},expression:"comp.diskMountSize"}}),t._v("\n              GB\n              "),t.isEdit&&s>0?e("b-button",{staticClass:"list-del",attrs:{type:"button",size:"sm",variant:"outline-danger"},on:{click:function(i){t.onDelList(s)}}},[e("i",{staticClass:"fa fa-trash"})]):t._e()],1)])}),t._v(" "),e("li",{staticStyle:{"min-height":"59px"}},[e("div",{staticClass:"value text-left",staticStyle:{width:"145px"}},[e("div",{staticClass:"small text-muted"},[t._v("Total")]),t._v(" "),e("b-form-input",{staticClass:"inline sm",staticStyle:{width:"80px"},attrs:{value:t.total,type:"text",plaintext:""}}),t._v("\n              GB\n            ")],1)])],2)],1),t._v(" "),t.isEdit?t._e():e("b-form-fieldset",{attrs:{label:"적용여부","label-cols":3,horizontal:!0}},[e("b-badge",{attrs:{pill:"",variant:t.items.edgeCoreConfigApplyYn?"success":"secondary"}},[t._v("\n          "+t._s(t.items.edgeCoreConfigApplyYn?"적용":"미적용")+"\n        ")])],1),t._v(" "),t.isEdit?t._e():e("b-form-fieldset",{attrs:{label:"JSON","label-cols":3,horizontal:!0}},[e("pre",{staticClass:"code",staticStyle:{height:"200px"}},[t._v(t._s(t.items.edgeCoreConfigRequestData))])]),t._v(" "),t.isEdit?e("b-form-fieldset",{attrs:{label:"변경이력","label-cols":3,horizontal:!0}},[e("b-form-textarea",{attrs:{rows:6},model:{value:t.items.modifyHistReason,callback:function(i){t.items.modifyHistReason=i},expression:"items.modifyHistReason"}})],1):t._e()],1)],1),t._v(" "),t.isEdit?t._e():e("div",{staticClass:"collapse-title"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.history",modifiers:{history:!0}}],attrs:{variant:"secondary",block:!0}},[t._v("\n      처리이력\n      "),e("i",{staticClass:"fa fa-angle-down"})])],1),t._v(" "),t.isEdit?t._e():e("b-collapse",{attrs:{id:"history"}},[e("b-card",[e("b-form-fieldset",{attrs:{label:"등록일","label-cols":3,horizontal:!0}},[e("b-form-input",{attrs:{value:t.items.createDateTime,plaintext:"",type:"text"}})],1),t._v(" "),e("b-form-fieldset",{attrs:{label:"등록자","label-cols":3,horizontal:!0}},[e("b-form-input",{attrs:{value:t.items.createId,plaintext:"",type:"text"}})],1),t._v(" "),t.items.modifyDateTime?e("b-form-fieldset",{attrs:{label:"수정일","label-cols":3,horizontal:!0}},[e("b-form-input",{attrs:{value:t.items.modifyDateTime,plaintext:"",type:"text"}})],1):t._e(),t._v(" "),t.items.modifyDateTime?e("b-form-fieldset",{attrs:{label:"수정자","label-cols":3,horizontal:!0}},[e("b-form-input",{attrs:{value:t.items.modifyId,plaintext:"",type:"text"}})],1):t._e(),t._v(" "),e("b-form-fieldset",{attrs:{label:"배포상태","label-cols":3,horizontal:!0}},[e("b-form-input",{staticStyle:{width:"30px"},attrs:{value:t.deploy.status?"성공":"실패",plaintext:"",type:"text"}}),t._v("\n        ("),e("a",{attrs:{href:"#"}},[t._v(t._s(t.deploy.count))]),t._v(")\n      ")],1)],1)],1),t._v(" "),t.isEdit?e("div",{staticClass:"page-btn"},[e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 저장")]),t._v(" "),e("b-button",{attrs:{type:"button",size:"sm",variant:"secondary"},on:{click:t.onView}},[e("i",{staticClass:"fa fa-ban"}),t._v(" 취소")])],1):e("div",{staticClass:"page-btn"},[e("b-button",{attrs:{type:"button",size:"sm",variant:"outline-primary"},on:{click:t.showHistory}},[t._v("이력관리")]),t._v(" "),e("b-button",{attrs:{type:"button",size:"sm",variant:"outline-primary"}},[t._v("배포")]),t._v(" "),e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:t.onEdit}},[e("i",{staticClass:"fa fa-pencil"}),t._v(" 수정")])],1),t._v(" "),e("b-modal",{attrs:{size:"lg",title:"이력관리"},model:{value:t.isModalHistory,callback:function(i){t.isModalHistory=i},expression:"isModalHistory"}},[e("section",{staticClass:"board"},[e("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",items:t.history.items,fields:t.history.fields},scopedSlots:t._u([{key:"histMgmtId",fn:function(i){return[e("a",{attrs:{href:t.getHistoryLink(i.value),target:"_blank"}},[t._v("보기")])]}}])})],1),t._v(" "),e("div",{slot:"modal-footer"},[e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(i){t.isModalHistory=!1}}},[e("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 확인")])],1)])],1)},a=[],o={render:s,staticRenderFns:a};i.a=o}});