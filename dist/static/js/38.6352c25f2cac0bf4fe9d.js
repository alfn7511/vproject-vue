webpackJsonp([38],{427:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(720),a=s(721),n=s(11),o=n(i.a,a.a,null,null,null);e.default=o.exports},720:function(t,e,s){"use strict";var i=s(140),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t};e.a={name:"cache",props:["id"],components:{cSwitch:i.a},data:function(){return{originItems:{},items:{popId:20,popName:null,serviceId:4,serviceName:null,bandwidth:null,popBandwidth:null,setApplyYn:null,modifyHistReason:null,cacheThrottlingCases:[]},caseFields:{serviceTypeCodeName:{label:"Service Type"},bandwidth1:{label:"Set1 (Basic)",class:"text-right"},bandwidth2:{label:"Set2",class:"text-right"}},history:{fields:{createId:{label:"등록/수정자",class:"text-left"},histBeginDateTime:{label:"등록/수정일시"},modifyHistReason:{label:"변경이력",class:"text-left"},histMgmtId:{label:"보기"}},items:[]},isEdit:!1,isModalHistory:!1,isModalMessage:!1,modalMessage:"",deploy:{status:!0,count:11234}}},computed:{cacheCase:function(){var t=this.items.cacheThrottlingCases;return t.length>0?t.map(function(t){var e=t.cacheThrottlingComps.length>0?t.cacheThrottlingComps.map(function(t){return a({},t,{band1UseYn:t.bandwidth1>0,band2UseYn:t.bandwidth2>0})}):[];return a({},t,{cacheThrottlingComps:e})}):[]}},created:function(){var t=this,e=this.$route.query.histories,s=this.$route.query.caseSeq,i=void 0!==e?"/policy/cacheThrottlings/"+this.id+"/case/"+s+"/histories/"+e:"/policy/cacheThrottlings/"+this.id;e&&document.querySelector("body.app").classList.add("history-mode"),this.$https.get(i).then(function(e){t.items=a({},t.items,e.data.items),t.originItems=JSON.parse(JSON.stringify(t.items))})},methods:{onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var t=this,e=this.items,s=e.popId,i=e.serviceId,n=e.popBandwidth,o=e.setApplyYn,l=e.modifyHistReason,r=n,c=this.cacheCase.map(function(t){var e=t.cacheThrottlingComps.length>0?t.cacheThrottlingComps.map(function(t){var e=t.serviceTypeCode,s=t.bandwidth1,i=t.bandwidth2;return{serviceTypeCode:e,bandwidth1:parseInt(s),bandwidth2:parseInt(i)}}):[];return a({},t,{cacheThrottlingComps:e})});this.$https.put("/policy/cacheThrottlings/"+this.id,{popId:s,serviceId:i,bandwidth:r,setApplyYn:o,cacheThrottlingCases:c,modifyHistReason:l}).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){console.log(t)})},onDelete:function(){this.modalMessage="정말 삭제하시겠습니까?",this.isModalMessage=!0},onDeleteData:function(){var t=this;this.$https.delete("/policy/cacheThrottlings/"+this.id).then(function(){t.$router.push({name:"Cache Throttling 관리"})}).catch(function(t){console.log(t)})},onChecked:function(t,e){var s="band"+e+"UseYn",i="bandwidth"+e;t[s]||(t[i]=0)},onChangeSet2:function(t){var e=this.cacheCase;!t&&e.length>0&&e.forEach(function(t){var e=t.cacheThrottlingComps;e.length>0&&e.forEach(function(t){t.band2UseYn=!1,t.bandwidth2=0})})},getHistoryLink:function(t,e){return"#/configuration/cache/"+this.id+"?histories="+t+"&caseSeq="+e},showHistory:function(t){var e=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/policy/cacheThrottlings/"+this.id+"/case/"+t+"/histories").then(function(t){e.history.items=t.data.items})}}}},721:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"animated fadeIn"},[s("b-card",[s("b-form-fieldset",{attrs:{label:"Service","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.serviceName,type:"text",plaintext:""}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"PoP","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.popName,type:"text",plaintext:""}}),t._v(" "),null!==t.items.popBandwidth?s("span",{staticClass:"form-sub-text"},[t._v("(Bandwidth : "+t._s(t.items.popBandwidth)+" GB)")]):t._e()],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"Set2사용여부 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[t.isEdit?s("c-switch",t._b({attrs:{type:"icon",variant:"success",pill:!0},on:{change:t.onChangeSet2},model:{value:t.items.setApplyYn,callback:function(e){t.items.setApplyYn=e},expression:"items.setApplyYn"}},"c-switch",{on:"",off:""},!1)):s("b-badge",{attrs:{pill:"",variant:t.items.setApplyYn?"success":"secondary"}},[t._v("\n        "+t._s(t.items.setApplyYn?"사용":"미사용")+"\n      ")]),t._v(" "),s("span",{staticClass:"form-sub-text"},[t._v("(적용 시간 : 02:00:00 ~ 04:59:00)")])],1)],1),t._v(" "),t._l(t.cacheCase,function(e,i){return t.cacheCase.length>0?s("b-card",{key:i},[s("div",{slot:"header"},[s("i",{staticClass:"fa fa-angle-right"}),t._v(" "),s("strong",[t._v("CASE "+t._s(e.caseSeq)+" :")]),t._v(" "+t._s(e.caseName)+"\n\n      "),t.isEdit?t._e():s("b-button",{staticClass:"float-right",attrs:{type:"button",variant:"outline-secondary"},on:{click:function(s){t.showHistory(e.caseSeq)}}},[t._v("이력관리")])],1),t._v(" "),e.cacheThrottlingComps.length>0?s("section",{staticClass:"board"},[s("b-table",{attrs:{striped:"",bordered:"","show-empty":"",items:e.cacheThrottlingComps,fields:t.caseFields},scopedSlots:t._u([{key:"bandwidth1",fn:function(e){return[t.isEdit?s("span",[s("b-form-checkbox",{on:{change:function(s){t.onChecked(e.item,"1")}},model:{value:e.item.band1UseYn,callback:function(t){e.item.band1UseYn=t},expression:"row.item.band1UseYn"}}),t._v(" "),s("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!e.item.band1UseYn},model:{value:e.item.bandwidth1,callback:function(t){e.item.bandwidth1=t},expression:"row.item.bandwidth1"}}),t._v("\n            GB 제한\n          ")],1):s("span",[t._v(t._s(e.value>0?e.value+" GB 제한":"--"))])]}},{key:"bandwidth2",fn:function(e){return[t.isEdit?s("span",[s("b-form-checkbox",{attrs:{disabled:!t.items.setApplyYn},on:{change:function(s){t.onChecked(e.item,"2")}},model:{value:e.item.band2UseYn,callback:function(t){e.item.band2UseYn=t},expression:"row.item.band2UseYn"}}),t._v(" "),s("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!e.item.band2UseYn},model:{value:e.item.bandwidth2,callback:function(t){e.item.bandwidth2=t},expression:"row.item.bandwidth2"}}),t._v("\n            GB 제한\n          ")],1):s("span",[t._v(t._s(e.value>0?e.value+" GB 제한":"--"))])]}}])})],1):t._e(),t._v(" "),t.isEdit?t._e():s("b-form-fieldset",{attrs:{label:"배포 일시 / 상태","label-cols":3,horizontal:!0}},[t._v("\n      "+t._s(t.items.createDateTime)+"\n      "),s("b-form-input",{staticStyle:{width:"30px"},attrs:{value:t.deploy.status?"성공":"실패",plaintext:"",type:"text"}}),t._v("\n      ("),s("a",{attrs:{href:"#"}},[t._v(t._s(t.deploy.count))]),t._v(")\n    ")],1)],1):t._e()}),t._v(" "),t.isEdit?s("b-card",[s("b-form-fieldset",{attrs:{label:"변경이력","label-cols":3,horizontal:!0}},[s("b-form-textarea",{attrs:{rows:6},model:{value:t.items.modifyHistReason,callback:function(e){t.items.modifyHistReason=e},expression:"items.modifyHistReason"}})],1)],1):t._e(),t._v(" "),t.isEdit?t._e():s("div",{staticClass:"collapse-title"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.history",modifiers:{history:!0}}],attrs:{variant:"secondary",block:!0}},[t._v("\n      처리이력\n      "),s("i",{staticClass:"fa fa-angle-down"})])],1),t._v(" "),t.isEdit?t._e():s("b-collapse",{attrs:{id:"history"}},[s("b-card",[s("b-form-fieldset",{attrs:{label:"등록일","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.createDateTime,plaintext:"",type:"text"}})],1),t._v(" "),s("b-form-fieldset",{attrs:{label:"등록자","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.createId,plaintext:"",type:"text"}})],1),t._v(" "),t.items.modifyDateTime?s("b-form-fieldset",{attrs:{label:"수정일","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.modifyDateTime,plaintext:"",type:"text"}})],1):t._e(),t._v(" "),t.items.modifyDateTime?s("b-form-fieldset",{attrs:{label:"수정자","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{value:t.items.modifyId,plaintext:"",type:"text"}})],1):t._e()],1)],1),t._v(" "),t.isEdit?s("div",{staticClass:"page-btn"},[s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:t.onView}},[t._v("취소")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("저장")])],1):s("div",{staticClass:"page-btn"},[s("b-button",{staticClass:"float-left",attrs:{type:"button",variant:"outline-secondary"},on:{click:t.onDelete}},[t._v("삭제")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Cache Throttling 관리"}}},[t._v("목록")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onEdit}},[t._v("수정")])],1),t._v(" "),s("b-modal",{attrs:{size:"lg",title:"이력관리"},model:{value:t.isModalHistory,callback:function(e){t.isModalHistory=e},expression:"isModalHistory"}},[s("section",{staticClass:"board"},[s("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",items:t.history.items,fields:t.history.fields},scopedSlots:t._u([{key:"histMgmtId",fn:function(e){return[s("a",{attrs:{href:t.getHistoryLink(e.value,e.item.caseSeq),target:"_blank"}},[t._v("보기")])]}}])})],1),t._v(" "),s("div",{slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:function(e){t.isModalHistory=!1}}},[s("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 확인")])],1)]),t._v(" "),s("b-modal",{staticClass:"modal-danger",attrs:{title:"Message",size:"sm"},model:{value:t.isModalMessage,callback:function(e){t.isModalMessage=e},expression:"isModalMessage"}},[s("div",{staticClass:"d-block text-center"},[s("h5",[t._v(t._s(t.modalMessage))])]),t._v(" "),s("div",{slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"danger"},on:{click:t.onDeleteData}},[s("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 삭제")]),t._v(" "),s("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(e){t.isModalMessage=!1}}},[s("i",{staticClass:"fa fa-ban"}),t._v(" 취소")])],1)])],2)},a=[],n={render:i,staticRenderFns:a};e.a=n}});