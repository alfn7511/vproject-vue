webpackJsonp([37],{627:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(852),i=r(853),o=r(15),a=o(s.a,i.a,null,null,null);e.default=a.exports},852:function(t,e,r){"use strict";var s=r(179),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};e.a={name:"referrer",props:["id"],components:{cSwitch:s.a},data:function(){return{name:"Referrer 상세",originItems:{},items:{referrerId:null,popId:null,referrerUseYn:!1,referrerTypeCode:null,preferenceList:[],ipRestrictionList:[],oneTimeUrlInfo:{expireTime:null,bypassYn:null},modifyHistReason:"Referrer 수정"},referrerTypeCode:"",code:{popId:[]},history:{fields:{createId:{label:"등록/수정자",class:"text-left"},histBeginDateTime:{label:"등록/수정일시"},modifyHistReason:{label:"변경이력",class:"text-left"},histMgmtId:{label:"보기"}},items:[],pageInfo:{page:1,size:10,totalCount:1}},isLoad:{popId:!0},isEdit:!1,isModalHistory:!1,isReferrerType:"",modal:{open:!1,type:"done",msg:"",action:function(){}},inValidForm:!1}},computed:{popId:{get:function(){var t=this;return this.code.popId.find(function(e){return e.popId===t.items.popId})||null},set:function(t){this.items.popId=null!==t?t.popId:null}},isProcessComplete:function(){return null!==this.items.processStateCode&&""!==this.items.processStateCode&&"PROCESS_STATE_02"===this.items.processStateCode},valid:function(){return{popId:null!==this.items.popId}}},created:function(){var t=this;void 0===this.$route.query.referrerTypeCode&&(alert("잘못된 접근입니다"),this.$router.push({name:"Referrer 관리"}));var e=this.$route.query.histories,r=void 0!==e?"/referrers/"+this.id+"/histories/"+e:"/referrers/"+this.id;e&&document.querySelector("body.app").classList.add("history-mode"),this.referrerTypeCode=this.$route.query.referrerTypeCode,this.$https.get("/pops").then(function(e){t.isLoad.popId=!1,t.code.popId=e.data.items}),this.$https.get(r,{referrerTypeCode:this.referrerTypeCode}).then(function(e){t.items=i({},t.items,e.data.items,{referrerId:t.id}),t.originItems=JSON.parse(JSON.stringify(t.items)),t.isReferrerType="COMPONENT_TYPE_01"===t.referrerTypeCode?"high":"low"})},methods:{onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var t=this,e=this.items,r=e.referrerId,s=e.popId,i=e.referrerUseYn,o=e.referrerTypeCode,a=e.modifyHistReason,n={referrerId:r,popId:s,referrerUseYn:i,referrerTypeCode:o,modifyHistReason:a},l=this.$valid.all(n);this.inValidForm=!l,l&&this.$https.put("/referrers/"+this.id,{referrerId:r,popId:s,referrerUseYn:i,referrerTypeCode:o,modifyHistReason:a}).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){console.log(t)})},onDelete:function(){this.modal={open:!0,type:"error",msg:"정말로 삭제하시겠습니까?",action:this.onDeleteData}},onDeleteData:function(){var t=this;this.$https.delete("/referrers/"+this.id+"?referrerTypeCode="+this.referrerTypeCode).then(function(){t.$router.push({name:"Referrer 관리"})}).catch(function(t){console.log(t)})},getHistoryLink:function(t){return"#/configuration/referrers/referrer/"+this.id+"?histories="+t+"&referrerTypeCode="+this.referrerTypeCode},showHistory:function(){var t=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/referrers/"+this.id+"/histories",{referrerTypeCode:this.referrerTypeCode}).then(function(e){t.history.items=e.data.items})}}}},853:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"animated fadeIn"},[r("div",{staticClass:"collapse-title"},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],staticClass:"btn-collapse"},[r("i",{staticClass:"fa"}),t._v("\n      기본정보\n    ")])],1),t._v(" "),r("b-collapse",{attrs:{id:"formDefault",visible:""}},[r("b-form",{staticClass:"formView",attrs:{validated:t.inValidForm,novalidate:""}},[r("b-form-fieldset",{attrs:{label:"ID",horizontal:!0}},[r("b-form-input",{attrs:{value:t.id,type:"text",plaintext:""}})],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"구분",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.referrerTypeCodeName,type:"text",plaintext:""}})],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"IP",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.componentIp,type:"text",plaintext:""}})],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"Host Name",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.componentHostName,type:"text",plaintext:""}})],1),t._v(" "),r("b-form-fieldset",{attrs:{"invalid-feedback":t.$valid.msg.select,horizontal:!0}},[r("template",{slot:"label"},[t._v("\n          PoP 선택"),t.isEdit?r("i",{staticClass:"require"},[t._v("*")]):t._e()]),t._v(" "),t.isEdit?r("multiselect",{class:{invalid:!t.valid.popId},attrs:{"track-by":"popId",label:"popName",showLabels:!1,options:t.code.popId,loading:t.isLoad.popId,placeholder:"Select PoP"},model:{value:t.popId,callback:function(e){t.popId=e},expression:"popId"}}):r("b-form-input",{attrs:{value:t.items.popName,type:"text",plaintext:""}})],2),t._v(" "),r("b-form-fieldset",{attrs:{label:"사용여부",horizontal:!0}},[t.isEdit?r("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:t.items.referrerUseYn,callback:function(e){t.$set(t.items,"referrerUseYn",e)},expression:"items.referrerUseYn"}}):r("span",{staticClass:"badge",class:{primary:t.items.referrerUseYn}},[t._v(t._s(t.items.referrerUseYn?"사용":"미사용")+"\n        ")])],1),t._v(" "),t.isEdit?r("b-form-fieldset",{attrs:{label:"변경이력<i class='require'>*</i>","invalid-feedback":t.$valid.msg.require,horizontal:!0}},[r("b-form-textarea",{attrs:{rows:6,required:""},model:{value:t.items.modifyHistReason,callback:function(e){t.$set(t.items,"modifyHistReason",e)},expression:"items.modifyHistReason"}})],1):t._e()],1)],1),t._v(" "),t.isEdit?t._e():r("div",{staticClass:"collapse-title"},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formPolicy",modifiers:{formPolicy:!0}}],staticClass:"btn-collapse"},[r("i",{staticClass:"fa"}),t._v("\n      Policy\n    ")])],1),t._v(" "),t.isEdit?t._e():r("b-collapse",{attrs:{id:"formPolicy",visible:""}},["high"===t.isReferrerType?r("div",{staticClass:"referrer-content"},[r("div",{staticClass:"link-list"},[r("a",{staticClass:"btn btn-in-table",attrs:{href:"#/configuration/referrers/ipRestriction",target:"_blank"}},[t._v("IP Restriction 설정")]),t._v(" "),r("a",{staticClass:"btn btn-in-table",attrs:{href:"#/configuration/referrers/popPreference",target:"_blank"}},[t._v("PoP Preference 설정")])]),t._v(" "),r("div",{staticClass:"formView"},[r("b-form-fieldset",{attrs:{label:"IP Restriction",horizontal:!0}},[r("div",{staticClass:"form-in-view"},t._l(t.items.ipRestrictionList,function(e,s){return r("b-form-fieldset",{key:s,attrs:{label:String(s+1),horizontal:!0}},[r("span",{staticClass:"domain-text"},[t._v(t._s(e))])])}))]),t._v(" "),r("b-form-fieldset",{attrs:{label:"PoP Preference",horizontal:!0}},[r("div",{staticClass:"form-in-view"},t._l(t.items.preferenceList,function(e,s){return r("b-form-fieldset",{key:e.popId,attrs:{label:e.serviceName,horizontal:!0}},[e.targetPopIdName1?r("span",[t._v(t._s(e.targetPopIdName1||" "))]):t._e(),t._v(" "),e.targetPopIdName2?r("span",[t._v("- "+t._s(e.targetPopIdName2||" "))]):t._e(),t._v(" "),e.targetPopIdName3?r("span",[t._v("- "+t._s(e.targetPopIdName3||" "))]):t._e(),t._v(" "),e.targetPopIdName4?r("span",[t._v("- "+t._s(e.targetPopIdName4||" "))]):t._e(),t._v(" "),e.targetPopIdName5?r("span",[t._v("- "+t._s(e.targetPopIdName5||" "))]):t._e()])}))])],1)]):t._e(),t._v(" "),"low"===t.isReferrerType?r("div",{staticClass:"referrer-content"},[r("div",{staticClass:"link-list"},[r("a",{staticClass:"btn btn-in-table",attrs:{href:"#/configuration/referrers/onetime",target:"_blank"}},[t._v("One-Time URL 설정")])]),t._v(" "),r("div",{staticClass:"formView"},[r("b-form-fieldset",{attrs:{label:"One-Time URL",horizontal:!0}},[r("div",{staticClass:"form-in-view"},[r("b-form-fieldset",{attrs:{label:"expireTime",horizontal:!0}},[r("span",{staticClass:"form-text-alone"},[t._v(t._s(t.items.oneTimeUrlInfo.expireTime))])]),t._v(" "),r("b-form-fieldset",{attrs:{label:"ByPass",horizontal:!0}},[r("span",{staticClass:"badge",class:{primary:t.items.oneTimeUrlInfo.bypassYn}},[t._v(t._s(t.items.oneTimeUrlInfo.bypassYn?"사용":"미사용")+"\n              ")])])],1)])],1)]):t._e()]),t._v(" "),t.isEdit?t._e():r("div",{staticClass:"collapse-title"},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formHistory",modifiers:{formHistory:!0}}],staticClass:"btn-collapse"},[r("i",{staticClass:"fa"}),t._v("\n      처리이력\n    ")])],1),t._v(" "),t.isEdit?t._e():r("b-collapse",{attrs:{id:"formHistory",visible:""}},[r("b-form",{staticClass:"formView"},[r("div",{staticClass:"form-row"},[r("b-form-fieldset",{attrs:{label:"등록일시",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.createDateTime,plaintext:"",type:"text"}})],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"등록자",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.createId,plaintext:"",type:"text"}})],1)],1),t._v(" "),r("div",{staticClass:"form-row"},[r("b-form-fieldset",{attrs:{label:"수정일시",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.modifyDateTime,plaintext:"",type:"text"}})],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"수정자",horizontal:!0}},[r("b-form-input",{attrs:{value:t.items.modifyId,plaintext:"",type:"text"}})],1)],1),t._v(" "),r("b-form-fieldset",{attrs:{label:"배포상태",horizontal:!0}},[r("input",{staticClass:"form-control-plaintext",staticStyle:{width:"50px"},attrs:{type:"text",readonly:"readonly"},domProps:{value:t.items.processStateCodeName}}),t._v(" "),r("a",{staticClass:"btn btn-in-table",attrs:{href:"#/workflow/service/"+t.items.processId,target:"_blank"}},[t._v(t._s(t.items.processId))])])],1)],1),t._v(" "),t.isEdit?r("div",{staticClass:"page-btn"},[r("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:t.onView}},[t._v("취소")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("저장")])],1):r("div",{staticClass:"page-btn"},[t.isProcessComplete?r("span",[r("b-button",{staticClass:"float-left",attrs:{type:"button",variant:"outline-secondary"},on:{click:t.onDelete}},[t._v("삭제")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:t.showHistory}},[t._v("이력관리")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Referrer 관리"}}},[t._v("목록")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onEdit}},[t._v("수정")])],1):r("span",[r("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:t.showHistory}},[t._v("이력관리")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Referrer 관리"}}},[t._v("목록")])],1)]),t._v(" "),r("b-modal",{attrs:{size:"lg",title:"이력관리"},model:{value:t.isModalHistory,callback:function(e){t.isModalHistory=e},expression:"isModalHistory"}},[r("section",{staticClass:"board"},[r("b-table",{attrs:{hover:"","show-empty":"",items:t.history.items,fields:t.history.fields,"current-page":t.history.pageInfo.page,"per-page":t.history.pageInfo.size},scopedSlots:t._u([{key:"histMgmtId",fn:function(e){return[r("a",{attrs:{href:t.getHistoryLink(e.value),target:"_blank"}},[t._v("보기")])]}}])})],1),t._v(" "),r("b-pagination",{staticClass:"mt-2",attrs:{"total-rows":t.history.pageInfo.totalCount,"per-page":t.history.pageInfo.size},model:{value:t.history.pageInfo.page,callback:function(e){t.$set(t.history.pageInfo,"page",e)},expression:"history.pageInfo.page"}}),t._v(" "),r("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-button",{attrs:{type:"button",variant:"primary"},on:{click:function(e){t.isModalHistory=!1}}},[t._v("확인")])],1)],1),t._v(" "),r("b-modal",{class:"modal-"+t.modal.type,attrs:{title:"Message",size:"sm"},model:{value:t.modal.open,callback:function(e){t.$set(t.modal,"open",e)},expression:"modal.open"}},[r("div",{staticClass:"d-block text-center"},[r("p",[t._v(t._s(t.modal.msg))])]),t._v(" "),r("div",{staticClass:"mx-auto",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.modal.action}},[t._v("확인")]),t._v(" "),r("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(e){t.modal.open=!1}}},[t._v("취소")])],1)])],1)},i=[],o={render:s,staticRenderFns:i};e.a=o}});