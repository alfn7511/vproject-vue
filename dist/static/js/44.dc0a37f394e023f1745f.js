webpackJsonp([44],{617:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(829),o=i(830),a=i(15),n=a(s.a,o.a,null,null,null);t.default=n.exports},829:function(e,t,i){"use strict";var s=i(179);t.a={name:"pops",components:{cSwitch:s.a},data:function(){return{items:{popName:"",popHostName:"",popDomainName:null,popCtprvnCode:null,popSigCode:null,qualitySolutionTeamCode:null,referrerYn:!1,highReferrerYn:!1,bandwidth:0,popUseYn:!0},code:{popCtprvnCode:[],popSigCode:[],qualitySolutionTeamCode:[]},isLoad:{popCtprvnCode:!0,popSigCode:!0,qualitySolutionTeamCode:!0},popHostNameExists:null,inValidForm:!1}},computed:{popCtprvnCode:{get:function(){var e=this;return this.code.popCtprvnCode.find(function(t){return t.addressCode===e.items.popCtprvnCode})||null},set:function(e){this.items.popCtprvnCode=null!==e?e.addressCode:null}},popSigCode:{get:function(){var e=this;return this.code.popSigCode.find(function(t){return t.addressCode===e.items.popSigCode})||null},set:function(e){this.items.popSigCode=null!==e?e.addressCode:null}},qualitySolutionTeamCode:{get:function(){var e=this;return this.code.qualitySolutionTeamCode.find(function(t){return t.code===e.items.qualitySolutionTeamCode})||null},set:function(e){this.items.qualitySolutionTeamCode=null!==e?e.code:null}},valid:function(){return{popHostName:null===this.popHostNameExists&&0===this.items.popHostName.length?this.popHostNameExists:this.items.popHostName.length>0&&/^[A-Za-z0-9]*$/.test(this.items.popHostName)&&"success"===this.popHostNameExists,referrer:!(!this.items.referrerYn&&!this.items.highReferrerYn),popCtprvnCode:null!==this.items.popCtprvnCode,popSigCode:null!==this.items.popSigCode,qualitySolutionTeamCode:null!==this.items.qualitySolutionTeamCode}},feedback:function(){return{popHostName:!/^[A-Za-z0-9]*$/.test(this.items.popHostName)&&this.items.popHostName.length>0?"영문, 숫자만 입력하십시오.":null===this.popHostNameExists&&this.items.popHostName.length>0?"중복확인은 필수입니다.":"not"===this.popHostNameExists?"입력된 항목이 없습니다.":"fail"===this.popHostNameExists?"이미 등록된 Host Name이 있습니다.":0===this.items.popHostName.length?this.$valid.msg.require:"",domain:null===this.items.popDomainName?"Domain name 생성이 필요합니다.":""}}},created:function(){var e=this;this.fetchAddress(),this.$https.get("/system/commonCode",{q:{groupCode:"QUALITY_TEAM"}}).then(function(t){e.isLoad.qualitySolutionTeamCode=!1,e.code.qualitySolutionTeamCode=t.data.items})},methods:{onSubmit:function(){var e=this;this.items.modifyHistReason="등록";var t=this.$valid.all(this.items)&&"success"===this.popHostNameExists;this.inValidForm=!t,t&&this.$https.post("/pops",this.items).then(function(t){e.$router.push({name:"Pop 상세",params:{id:t.data.items}})}).catch(function(e){console.log(e)})},fetchNameExists:function(){var e=this;if(!this.items.popHostName)return void(this.popHostNameExists="not");this.$https.get("/pops/hostName/exists",{hostName:this.items.popHostName}).then(function(t){e.popHostNameExists="Success"===t.data.result?"success":"fail"})},fetchDomain:function(){var e=this;this.$https.get("/pops/domain").then(function(t){e.items.popDomainName=t.data.items.domain})},fetchAddress:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$https.get("/pops/address",{firstDepth:t}).then(function(i){""===t?(e.isLoad.popCtprvnCode=!1,e.code.popCtprvnCode=i.data.items):(e.isLoad.popSigCode=!1,e.code.popSigCode=i.data.items)})},onFirstAddress:function(e){this.fetchAddress(e.addressCode)}}}},830:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"animated fadeIn"},[i("b-form",{staticClass:"formView",attrs:{validated:e.inValidForm,novalidate:""}},[i("b-form-fieldset",{attrs:{label:"PoP Name<i class='require'>*</i>","invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("b-form-input",{attrs:{type:"text",placeholder:"Enter PoP name",required:""},model:{value:e.items.popName,callback:function(t){e.$set(e.items,"popName",t)},expression:"items.popName"}})],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"Host Name(Prefix)<i class='require'>*</i>","invalid-feedback":e.feedback.popHostName,horizontal:!0}},[i("b-form-input",{attrs:{type:"text",placeholder:"Enter PoP Host name",state:e.valid.popHostName,required:""},on:{input:function(t){e.popHostNameExists=null}},model:{value:e.items.popHostName,callback:function(t){e.$set(e.items,"popHostName",t)},expression:"items.popHostName"}}),e._v(" "),i("b-button",{attrs:{variant:"in-table"},on:{click:e.fetchNameExists}},[e._v("중복확인")]),e._v(" "),null!==e.popHostNameExists?i("span",{staticClass:"ico ml-2 mid"},["success"===e.popHostNameExists?i("i",{staticClass:"fa fa-check-circle"}):e._e(),e._v(" "),"fail"===e.popHostNameExists?i("i",{staticClass:"fa fa-times-circle"}):e._e()]):e._e()],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"Domain<i class='require'>*</i>","invalid-feedback":e.feedback.domain,horizontal:!0}},[i("b-button",{attrs:{variant:"in-table"},on:{click:e.fetchDomain}},[e._v("생성")]),e._v(" "),i("small",{staticClass:"form-text-alone ml-2",class:{invalid:null===e.items.popDomainName}},[e._v("\n        http(s)://[edge].[content type]."),i("strong",{staticClass:"text-primary"},[e._v(e._s(e.items.popDomainName))]),e._v(".[country].[service type].[service name].vessels.com\n      ")])],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"구분<i class='require'>*</i>","invalid-feedback":e.$valid.msg.check,horizontal:!0}},[i("span",{class:{invalid:!e.valid.referrer}},[i("b-form-checkbox",{model:{value:e.items.referrerYn,callback:function(t){e.$set(e.items,"referrerYn",t)},expression:"items.referrerYn"}},[e._v("Low Referrer")]),e._v(" "),i("b-form-checkbox",{model:{value:e.items.highReferrerYn,callback:function(t){e.$set(e.items,"highReferrerYn",t)},expression:"items.highReferrerYn"}},[e._v("High Referrer")])],1)]),e._v(" "),i("b-form-fieldset",{attrs:{label:"주소<i class='require'>*</i>","invalid-feedback":e.$valid.msg.select,horizontal:!0}},[i("multiselect",{staticClass:"inline",class:{invalid:!e.valid.popCtprvnCode},staticStyle:{width:"156px"},attrs:{showLabels:!1,searchable:!1,options:e.code.popCtprvnCode,loading:e.isLoad.popCtprvnCode,"track-by":"addressCode",label:"addressCodeName",placeholder:"선택"},on:{select:e.onFirstAddress},model:{value:e.popCtprvnCode,callback:function(t){e.popCtprvnCode=t},expression:"popCtprvnCode"}}),e._v(" "),e.popCtprvnCode?i("multiselect",{staticClass:"inline",class:{invalid:!e.valid.popSigCode},staticStyle:{width:"160px"},attrs:{showLabels:!1,searchable:!1,options:e.code.popSigCode,loading:e.isLoad.popSigCode,"track-by":"addressCode",label:"addressCodeName",placeholder:"선택"},model:{value:e.popSigCode,callback:function(t){e.popSigCode=t},expression:"popSigCode"}}):e._e()],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"품질솔루션팀<i class='require'>*</i>","invalid-feedback":e.$valid.msg.select,horizontal:!0}},[i("multiselect",{class:{invalid:!e.valid.qualitySolutionTeamCode},attrs:{showLabels:!1,options:e.code.qualitySolutionTeamCode,loading:e.isLoad.qualitySolutionTeamCode,"track-by":"code",label:"codeName",placeholder:"선택"},model:{value:e.qualitySolutionTeamCode,callback:function(t){e.qualitySolutionTeamCode=t},expression:"qualitySolutionTeamCode"}})],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"Bandwidth<i class='require'>*</i>","invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("cleave",{staticClass:"form-control",staticStyle:{width:"156px"},attrs:{value:e.items.bandwidth,options:{numeral:!0,numeralPositiveOnly:!0,numeralDecimalScale:0},required:""},on:{"update:value":function(t){e.$set(e.items,"bandwidth",t)}}})],1),e._v(" "),i("b-form-fieldset",{attrs:{label:"사용여부",horizontal:!0}},[i("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:e.items.popUseYn,callback:function(t){e.$set(e.items,"popUseYn",t)},expression:"items.popUseYn"}})],1)],1),e._v(" "),i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Pop 관리"}}},[e._v("취소")]),e._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장")])],1)],1)},o=[],a={render:s,staticRenderFns:o};t.a=a}});