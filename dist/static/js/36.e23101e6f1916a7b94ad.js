webpackJsonp([36],{425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(714),s=n(715),a=n(11),c=a(i.a,s.a,null,null,null);t.default=c.exports},714:function(e,t,n){"use strict";var i=n(139),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a={name:"cache",components:{cSwitch:i.a},data:function(){return{items:{popId:null,serviceId:null,bandWidth:null,setApplyYn:null,modifyHistReason:"등록",cacheThrottlingCases:[]},caseFields:{serviceTypeCodeName:{label:"Service Type"},bandwidth1:{label:"Set1 (Basic)",class:"text-right"},bandwidth2:{label:"Set2",class:"text-right"}},code:{popId:[],serviceId:[]},isLoad:{popId:!0,serviceId:!0}}},computed:{popId:{get:function(){var e=this;return this.code.popId.find(function(t){return t.popId===e.items.popId})||null},set:function(e){this.items.popId=null!==e?e.popId:null}},serviceId:{get:function(){var e=this;return this.code.serviceId.find(function(t){return t.serviceId===e.items.serviceId})||null},set:function(e){this.items.serviceId=null!==e?e.serviceId:null}},cacheCase:function(){var e=this.items.cacheThrottlingCases;return e.length>0?e.map(function(e){var t=e.cacheThrottlingComps.length>0?e.cacheThrottlingComps.map(function(e){return s({},e,{band1UseYn:e.bandwidth1>0,band2UseYn:e.bandwidth2>0})}):[];return s({},e,{cacheThrottlingComps:t})}):[]}},created:function(){var e=this;this.$https.get("/policy/cacheThrottlings/pops").then(function(t){e.isLoad.popId=!1,e.code.popId=t.data.items}),this.$https.get("/policy/services").then(function(t){e.isLoad.serviceId=!1,e.code.serviceId=t.data.items})},methods:{onSubmit:function(){var e=this,t=this.cacheCase.map(function(e){var t=e.cacheThrottlingComps.length>0?e.cacheThrottlingComps.map(function(e){var t=e.serviceTypeCode,n=e.bandwidth1,i=e.bandwidth2;return{serviceTypeCode:t,bandwidth1:parseInt(n),bandwidth2:parseInt(i)}}):[];return s({},e,{cacheThrottlingComps:t})}),n=s({},this.items,{cacheThrottlingCases:t});this.$https.post("/policy/cacheThrottlings",n).then(function(t){e.$router.push({name:"Cache Throttling 상세",params:{id:t.data.items}})}).catch(function(e){console.log(e)})},onSearchBandwidth:function(e,t){var n=this,i="serviceId"===t?e.serviceId:this.items.serviceId,s="popId"===t?e.popId:this.items.popId;null!==i&&null!==s&&this.$https.get("/policy/cacheThrottlings/bandwidth/service/"+i+"/pop/"+s).then(function(e){n.items.bandwidth=e.data.items.popBandwidth,e.data.items.cacheThrottlingCases.length>0&&(n.items.cacheThrottlingCases=e.data.items.cacheThrottlingCases)})},onChecked:function(e,t){var n="band"+t+"UseYn",i="bandwidth"+t;e[n]||(e[i]=0)},onChangeSet2:function(e){var t=this.cacheCase;!e&&t.length>0&&t.forEach(function(e){var t=e.cacheThrottlingComps;t.length>0&&t.forEach(function(e){e.band2UseYn=!1,e.bandwidth2=0})})}}}},715:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animated fadeIn"},[n("b-form",[n("b-card",[n("b-form-fieldset",{attrs:{label:"Service 선택 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[n("multiselect",{staticClass:"noEmpty inline",staticStyle:{width:"50%"},attrs:{id:"serviceId",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.serviceId,loading:e.isLoad.serviceId,label:"serviceName",placeholder:"선택"},on:{select:e.onSearchBandwidth},model:{value:e.serviceId,callback:function(t){e.serviceId=t},expression:"serviceId"}})],1),e._v(" "),n("b-form-fieldset",{attrs:{label:"PoP 선택 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[n("multiselect",{staticClass:"noEmpty inline",staticStyle:{width:"50%"},attrs:{id:"popId",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.popId,loading:e.isLoad.popId,label:"popName",placeholder:"선택"},on:{select:e.onSearchBandwidth},model:{value:e.popId,callback:function(t){e.popId=t},expression:"popId"}}),e._v(" "),null!==e.items.bandwidth?n("span",{staticClass:"form-sub-text"},[e._v("(Bandwidth : "+e._s(e.items.bandwidth)+" GB)")]):e._e()],1),e._v(" "),n("b-form-fieldset",{attrs:{label:"Set2사용여부 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[n("c-switch",e._b({attrs:{type:"icon",variant:"success",pill:!0},on:{change:e.onChangeSet2},model:{value:e.items.setApplyYn,callback:function(t){e.items.setApplyYn=t},expression:"items.setApplyYn"}},"c-switch",{on:"",off:""},!1)),e._v(" "),n("span",{staticClass:"form-sub-text"},[e._v("(적용 시간 : 02:00:00 ~ 04:59:00)")])],1)],1),e._v(" "),e._l(e.cacheCase,function(t,i){return e.cacheCase.length>0?n("b-card",{key:i},[n("div",{slot:"header"},[n("i",{staticClass:"fa fa-angle-right"}),e._v(" "),n("strong",[e._v("CASE "+e._s(t.caseSeq)+" :")]),e._v(" "+e._s(t.caseName)+"\n      ")]),e._v(" "),t.cacheThrottlingComps.length>0?n("section",{staticClass:"board"},[n("b-table",{attrs:{striped:"",bordered:"","show-empty":"",items:t.cacheThrottlingComps,fields:e.caseFields},scopedSlots:e._u([{key:"bandwidth1",fn:function(t){return[n("b-form-checkbox",{on:{change:function(n){e.onChecked(t.item,"1")}},model:{value:t.item.band1UseYn,callback:function(e){t.item.band1UseYn=e},expression:"row.item.band1UseYn"}}),e._v(" "),n("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!t.item.band1UseYn},model:{value:t.item.bandwidth1,callback:function(e){t.item.bandwidth1=e},expression:"row.item.bandwidth1"}}),e._v(" GB 제한\n          ")]}},{key:"bandwidth2",fn:function(t){return[n("b-form-checkbox",{attrs:{disabled:!e.items.setApplyYn},on:{change:function(n){e.onChecked(t.item,"2")}},model:{value:t.item.band2UseYn,callback:function(e){t.item.band2UseYn=e},expression:"row.item.band2UseYn"}}),e._v(" "),n("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!t.item.band2UseYn},model:{value:t.item.bandwidth2,callback:function(e){t.item.bandwidth2=e},expression:"row.item.bandwidth2"}}),e._v(" GB 제한\n          ")]}}])})],1):e._e()]):e._e()})],2),e._v(" "),n("div",{staticClass:"page-btn"},[n("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Cache Throttling 관리"}}},[e._v("취소")]),e._v(" "),n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장 및 배포")])],1)],1)},s=[],a={render:i,staticRenderFns:s};t.a=a}});