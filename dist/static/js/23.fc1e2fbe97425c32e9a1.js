webpackJsonp([23],{429:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(706),a=i(707),o=i(11),r=o(s.a,a.a,null,null,null);e.default=r.exports},706:function(t,e,i){"use strict";var s=i(140),a=i(139),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a={name:"edge",props:["id"],components:{ContentHeader:s.a,cSwitch:a.a},data:function(){return{name:"Edge 상세",hostName:"",ip:"",originItems:{},items:{serviceIdList:[],modifyHistReason:null},code:{serviceIdList:[]},history:{fields:{createId:{label:"등록/수정자",class:"text-left"},histBeginDateTime:{label:"등록/수정일시"},modifyHistReason:{label:"변경이력",class:"text-left"},histMgmtId:{label:"보기"}},items:[]},isLoad:{serviceIdList:!0},isEdit:!1,isModalHistory:!1}},computed:{},created:function(){var t=this,e=this.$route.query.histories,i=void 0!==e?"/edges/"+this.id+"/services/histories/"+e:"/edges/"+this.id+"/services";e&&document.querySelector("body.app").classList.add("history-mode"),this.$https.get("/services",{q:{serviceUseYn:!0}}).then(function(e){t.isLoad.serviceIdList=!1,t.code.serviceIdList=e.data.items}),this.$https.get("/edges/"+this.id).then(function(e){var i=e.data.items,s=i.hostName,a=i.ip;t.hostName=s,t.ip=a}),this.$https.get(i).then(function(e){t.items=o({},t.items,e.data.items),t.originItems=JSON.parse(JSON.stringify(t.items))}).catch(function(){t.isEdit=!0})},methods:{onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var t=this,e=this.items.serviceIdList.map(function(t){return t.serviceId}),i=this.items.modifyHistReason;this.$https.put("/edges/"+this.id+"/services",{serviceId:e,modifyHistReason:i}).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){console.log(t)})},getHistoryLink:function(t){return"#/configuration/edge/"+this.id+"/service?histories="+t},showHistory:function(){var t=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/edges/"+this.id+"/services/histories").then(function(e){t.history.items=e.data.items})}}}},707:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"animated fadeIn"},[i("content-header",{attrs:{title:t.hostName,small:t.ip,name:t.name}}),t._v(" "),i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],attrs:{variant:"secondary",block:!0}},[t._v("\n      Service\n      "),i("i",{staticClass:"fa fa-angle-down"})])],1),t._v(" "),i("b-collapse",{attrs:{id:"formDefault",visible:""}},[i("b-card",[i("b-form-fieldset",{attrs:{label:"Service Type","label-cols":3,horizontal:!0}},[t.isEdit?i("multiselect",{attrs:{multiple:!0,showLabels:!1,options:t.code.serviceIdList,label:"serviceName",loading:t.isLoad.serviceIdList,"track-by":"serviceId",placeholder:"Select service"},model:{value:t.items.serviceIdList,callback:function(e){t.items.serviceIdList=e},expression:"items.serviceIdList"}}):t._l(t.items.serviceIdList,function(e){return i("span",{staticClass:"badge badge-success badge-pill"},[t._v(t._s(e.serviceName))])})],2),t._v(" "),t.isEdit?i("b-form-fieldset",{attrs:{label:"변경이력","label-cols":3,horizontal:!0}},[i("b-form-textarea",{attrs:{rows:6},model:{value:t.items.modifyHistReason,callback:function(e){t.items.modifyHistReason=e},expression:"items.modifyHistReason"}})],1):t._e()],1)],1),t._v(" "),t.isEdit?t._e():i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.history",modifiers:{history:!0}}],attrs:{variant:"secondary",block:!0}},[t._v("\n      처리이력\n      "),i("i",{staticClass:"fa fa-angle-down"})])],1),t._v(" "),t.isEdit?t._e():i("b-collapse",{attrs:{id:"history"}},[i("b-card",[i("b-form-fieldset",{attrs:{label:"등록일","label-cols":3,horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.createDateTime,plaintext:"",type:"text"}})],1),t._v(" "),i("b-form-fieldset",{attrs:{label:"등록자","label-cols":3,horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.createId,plaintext:"",type:"text"}})],1),t._v(" "),t.items.modifyDateTime?i("b-form-fieldset",{attrs:{label:"수정일","label-cols":3,horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.modifyDateTime,plaintext:"",type:"text"}})],1):t._e(),t._v(" "),t.items.modifyDateTime?i("b-form-fieldset",{attrs:{label:"수정자","label-cols":3,horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.modifyId,plaintext:"",type:"text"}})],1):t._e()],1)],1),t._v(" "),t.isEdit?i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:t.onSubmit}},[i("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 저장")]),t._v(" "),i("b-button",{attrs:{type:"button",size:"sm",variant:"secondary"},on:{click:t.onView}},[i("i",{staticClass:"fa fa-ban"}),t._v(" 취소")])],1):i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",size:"sm",variant:"outline-primary"},on:{click:t.showHistory}},[t._v("이력관리")]),t._v(" "),i("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:t.onEdit}},[i("i",{staticClass:"fa fa-pencil"}),t._v(" 수정")])],1),t._v(" "),i("b-modal",{attrs:{size:"lg",title:"이력관리"},model:{value:t.isModalHistory,callback:function(e){t.isModalHistory=e},expression:"isModalHistory"}},[i("section",{staticClass:"board"},[i("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",items:t.history.items,fields:t.history.fields},scopedSlots:t._u([{key:"histMgmtId",fn:function(e){return[i("a",{attrs:{href:t.getHistoryLink(e.value),target:"_blank"}},[t._v("보기")])]}}])})],1),t._v(" "),i("div",{slot:"modal-footer"},[i("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){t.isModalHistory=!1}}},[i("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 확인")])],1)])],1)},a=[],o={render:s,staticRenderFns:a};e.a=o}});