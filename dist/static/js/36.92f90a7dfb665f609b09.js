webpackJsonp([36],{425:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(714),n=i(715),a=i(11),c=a(s.a,n.a,null,null,null);e.default=c.exports},714:function(t,e,i){"use strict";var s=i(139),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a={name:"cache",components:{cSwitch:s.a},data:function(){return{items:{popId:null,serviceId:null,bandWidth:null,setApplyYn:null,modifyHistReason:"등록",cacheThrottlingCases:[]},caseFields:{serviceTypeCodeName:{label:"Service Type"},bandwidth1:{label:"Set1 (Basic)",class:"text-right"},bandwidth2:{label:"Set2",class:"text-right"}},code:{popId:[],serviceId:[]},isLoad:{popId:!0,serviceId:!0}}},computed:{popId:{get:function(){var t=this;return this.code.popId.find(function(e){return e.popId===t.items.popId})||null},set:function(t){this.items.popId=null!==t?t.popId:null}},serviceId:{get:function(){var t=this;return this.code.serviceId.find(function(e){return e.serviceId===t.items.serviceId})||null},set:function(t){this.items.serviceId=null!==t?t.serviceId:null}},cacheCase:{get:function(){return this.items.cacheThrottlingCases},set:function(t){this.items.cacheThrottlingCases=t.map(function(t){var e=t.cacheThrottlingComps.length>0?t.cacheThrottlingComps.map(function(t){return n({},t,{band1UseYn:t.bandwidth1>0,band2UseYn:t.bandwidth2>0})}):[];return n({},t,{cacheThrottlingComps:e})})}}},created:function(){var t=this;this.$https.get("/policy/cacheThrottlings/pops").then(function(e){t.isLoad.popId=!1,t.code.popId=e.data.items}),this.$https.get("/policy/services").then(function(e){t.isLoad.serviceId=!1,t.code.serviceId=e.data.items})},methods:{onSubmit:function(){var t=this,e=this.items.cacheThrottlingCases.map(function(t){var e=t.cacheThrottlingComps.length>0?t.cacheThrottlingComps.map(function(t){var e=t.serviceTypeCode,i=t.bandwidth1,s=t.bandwidth2;return{serviceTypeCode:e,bandwidth1:parseInt(i),bandwidth2:parseInt(s)}}):[];return n({},t,{cacheThrottlingComps:e})}),i=n({},this.items,{cacheThrottlingCases:e});this.$https.post("/policy/cacheThrottlings",i).then(function(e){t.$router.push({name:"Cache Throttling 상세",params:{id:e.data.items}})}).catch(function(t){console.log(t)})},onSearchBandwidth:function(t,e){var i=this,s="serviceId"===e?t.serviceId:this.items.serviceId,n="popId"===e?t.popId:this.items.popId;null!==s&&null!==n?this.$https.get("/policy/cacheThrottlings/bandwidth/service/"+s+"/pop/"+n).then(function(t){i.items.bandwidth=t.data.items.popBandwidth,t.data.items.cacheThrottlingCases.length>0&&(i.cacheCase=t.data.items.cacheThrottlingCases)}):this.items.bandwidth=null}}}},715:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"animated fadeIn"},[i("b-form",[i("b-card",[i("b-form-fieldset",{attrs:{label:"Service 선택 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[i("multiselect",{staticClass:"noEmpty inline",staticStyle:{width:"50%"},attrs:{id:"serviceId",allowEmpty:!1,showLabels:!1,searchable:!1,options:t.code.serviceId,loading:t.isLoad.serviceId,label:"serviceName",placeholder:"선택"},on:{select:t.onSearchBandwidth},model:{value:t.serviceId,callback:function(e){t.serviceId=e},expression:"serviceId"}})],1),t._v(" "),i("b-form-fieldset",{attrs:{label:"PoP 선택 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[i("multiselect",{staticClass:"noEmpty inline",staticStyle:{width:"50%"},attrs:{id:"popId",allowEmpty:!1,showLabels:!1,searchable:!1,options:t.code.popId,loading:t.isLoad.popId,label:"popName",placeholder:"선택"},on:{select:t.onSearchBandwidth},model:{value:t.popId,callback:function(e){t.popId=e},expression:"popId"}}),t._v(" "),null!==t.items.bandwidth?i("span",{staticClass:"form-sub-text"},[t._v("(Bandwidth : "+t._s(t.items.bandwidth)+" GB)")]):t._e()],1),t._v(" "),i("b-form-fieldset",{attrs:{label:"Set2사용여부 <i class='require'>*</i>","label-cols":3,horizontal:!0}},[i("c-switch",t._b({attrs:{type:"icon",variant:"success",pill:!0},model:{value:t.items.setApplyYn,callback:function(e){t.items.setApplyYn=e},expression:"items.setApplyYn"}},"c-switch",{on:"",off:""},!1)),t._v(" "),i("span",{staticClass:"form-sub-text"},[t._v("(적용 시간 : 02:00:00 ~ 04:59:00)")])],1)],1),t._v(" "),t._l(t.cacheCase,function(e,s){return t.cacheCase.length>0?i("b-card",{key:s},[i("div",{slot:"header"},[i("i",{staticClass:"fa fa-angle-right"}),t._v(" "),i("strong",[t._v("CASE "+t._s(e.caseSeq)+" :")]),t._v(" "+t._s(e.caseName)+"\n      ")]),t._v(" "),e.cacheThrottlingComps.length>0?i("section",{staticClass:"board"},[i("b-table",{attrs:{striped:"",bordered:"","show-empty":"",items:e.cacheThrottlingComps,fields:t.caseFields},scopedSlots:t._u([{key:"bandwidth1",fn:function(e){return[i("b-form-checkbox",{model:{value:e.item.band1UseYn,callback:function(t){e.item.band1UseYn=t},expression:"row.item.band1UseYn"}}),t._v(" "),i("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!e.item.band1UseYn},model:{value:e.item.bandwidth1,callback:function(t){e.item.bandwidth1=t},expression:"row.item.bandwidth1"}}),t._v(" GB\n          ")]}},{key:"bandwidth2",fn:function(e){return[i("b-form-checkbox",{attrs:{disabled:!t.items.setApplyYn},model:{value:e.item.band2UseYn,callback:function(t){e.item.band2UseYn=t},expression:"row.item.band2UseYn"}}),t._v(" "),i("b-form-input",{staticClass:"inline",staticStyle:{width:"80px"},attrs:{type:"number",size:"sm",disabled:!e.item.band2UseYn},model:{value:e.item.bandwidth2,callback:function(t){e.item.bandwidth2=t},expression:"row.item.bandwidth2"}}),t._v(" GB\n          ")]}}])})],1):t._e()]):t._e()})],2),t._v(" "),i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Cache Throttling 관리"}}},[t._v("취소")]),t._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("저장 및 배포")])],1)],1)},n=[],a={render:s,staticRenderFns:n};e.a=a}});