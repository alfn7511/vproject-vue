webpackJsonp([27],{630:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(836),a=s(837),o=s(13),l=o(i.a,a.a,null,null,null);t.default=l.exports},836:function(e,t,s){"use strict";var i=s(182);t.a={name:"bucket",components:{cSwitch:i.a},data:function(){return{name:"Bucket 상세",items:{s3BucketId:null,name:null,serviceTypeCode:"",description:null,useYn:!1},code:{serviceTypeCode:[]},isLoad:{serviceTypeCode:!0},isModalMessage:!1,modalMessage:"",state:{bucketAvailable:!1}}},computed:{serviceTypeCode:{get:function(){return null!==this.items.serviceTypeCode?this.code.serviceTypeCode.find(function(e){return e.code}):null},set:function(e){console.log(e),this.items.serviceTypeCode=null!==e?e.code:null}}},created:function(){var e=this;this.$https.get("/system/commonCode",{q:{groupCode:"SERVICE_TYPE"}}).then(function(t){e.isLoad.serviceTypeCode=!1,e.code.serviceTypeCode=t.data.items.filter(function(e){var t=e.code;e.codeName,e.codeValChar1;return!(4===t.split("_")[2].length)}),e.items.serviceTypeCode=e.code.serviceTypeCode[0].code})},methods:{available:function(){var e=this;if(null==this.items.s3BucketId||this.items.s3BucketId.length<4)return this.modalMessage="올바르지 않은 Bucket ID 입니다.",void(this.isModalMessage=!0);console.log(this.state.bucketAvailable),this.$https.get("/origin/bucket",{type:"available",bucket:this.items.s3BucketId}).then(function(t){e.state.bucketAvailable=t.data.items,e.modalMessage=e.state.bucketAvailable?"사용하실 수 있습니다.":"Bucket ID 가 중복입니다.",e.isModalMessage=!0})},onSubmit:function(){var e=this;return this.state.bucketAvailable?null==this.items.name||this.items.name.length<4?(this.modalMessage="올바른 항목을 입력하세요.",void(this.isModalMessage=!0)):null==this.items.serviceTypeCode||""==this.items.serviceTypeCode?(this.modalMessage="서비스 타입을 선택하세요",void(this.isModalMessage=!0)):void this.$https.post("/origin/bucket",this.items).then(function(t){e.$router.push({name:"Bucket 상세",params:{id:t.data.items.bucketId}})}).catch(function(e){console.log(e)}):(this.modalMessage="S3 Bucket ID 중복체크가 필요합니다.",void(this.isModalMessage=!0))}}}},837:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animated fadeIn"},[s("b-form",[s("b-card",[s("b-form-fieldset",{attrs:{label:"Bucket Name *","label-cols":3,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",placeholder:"Enter Bucket Name"},model:{value:e.items.name,callback:function(t){e.items.name=t},expression:"items.name"}})],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"S3 Bucket ID *",description:"S3 Bucket ID은 실제 서비스 되는 Origin의 bucket ID 로 도메인에 포함되기 때문에 영문, 숫자만 입력 가능합니다.","label-cols":3,horizontal:!0}},[s("b-input-group",[s("b-form-input",{attrs:{type:"text",placeholder:"Enter S3 Bucket ID"},on:{change:function(t){e.state.bucketAvailable=!1}},model:{value:e.items.s3BucketId,callback:function(t){e.items.s3BucketId=t},expression:"items.s3BucketId"}}),e._v(" "),s("b-input-group-button",{staticClass:"ml-2",slot:"right"},[s("b-button",{attrs:{variant:"outline-secondary"},on:{click:e.available}},[e._v("중복확인")])],1)],1)],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"Service Type *","label-cols":3,horizontal:!0}},[s("multiselect",{attrs:{multiple:!1,showLabels:!1,allowEmpty:!1,options:e.code.serviceTypeCode,label:"codeName",loading:e.isLoad.serviceTypeCode,"track-by":"code",placeholder:"Select service type"},model:{value:e.serviceTypeCode,callback:function(t){e.serviceTypeCode=t},expression:"serviceTypeCode"}})],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"Description","label-cols":3,horizontal:!0}},[s("b-form-textarea",{attrs:{type:"text",rows:6},model:{value:e.items.description,callback:function(t){e.items.description=t},expression:"items.description"}})],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"사용 여부 *","label-cols":3,horizontal:!0}},[s("c-switch",e._b({attrs:{type:"icon",variant:"success",pill:!0},model:{value:e.items.useYn,callback:function(t){e.items.useYn=t},expression:"items.useYn"}},"c-switch",{on:"",off:""},!1))],1),e._v(" "),s("div",{staticClass:"form-btn",slot:"footer"},[s("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Bucket 관리"}}},[e._v("취소")]),e._v(" "),s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장")])],1)],1)],1),e._v(" "),s("b-modal",{class:e.state.bucketAvailable?"modal-primary":"modal-danger",attrs:{"hide-footer":"",title:"Message",size:"sm"},model:{value:e.isModalMessage,callback:function(t){e.isModalMessage=t},expression:"isModalMessage"}},[s("div",{staticClass:"d-block text-center"},[s("h5",[e._v(e._s(e.modalMessage))])]),e._v(" "),s("b-btn",{staticClass:"mt-4",attrs:{variant:e.state.bucketAvailable?"outline-primary":"outline-danger",block:""},on:{click:function(t){e.isModalMessage=!1}}},[e._v("Close\n    ")])],1)],1)},a=[],o={render:i,staticRenderFns:a};t.a=o}});