webpackJsonp([25],{445:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(757),n=e(758),o=e(11),a=o(s.a,n.a,null,null,null);i.default=a.exports},757:function(t,i,e){"use strict";var s=e(140),n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};i.a={name:"onetime",components:{cSwitch:s.a},data:function(){return{fields:{popName:{label:"PoP"},expireTime:{label:"ExpireTime *"},bypassYn:{label:"Bypass"},action:{label:"관리"}},items:[],originItems:[],history:{fields:{createId:{label:"등록/수정자",class:"text-left"},histBeginDateTime:{label:"등록/수정일시"},expireTime:{label:"ExpireTime",class:"text-right"},bypassYn:{label:"byPass"}},items:[]},isModalHistory:!1}},computed:{},created:function(){var t=this;this.$https.get("/policy/oneTimeUrl").then(function(i){t.items=i.data.items.map(function(t){return n({},t,{isEdit:!1})}),t.originItems=JSON.parse(JSON.stringify(t.items))})},methods:{onEdit:function(t){t.item.isEdit=!0},onView:function(t){var i=this.originItems[t.index];Object.keys(i).forEach(function(e){t.item[e]=i[e]}),t.item.isEdit=!1},onSubmit:function(t){var i=this,e=t.item,s=e.popId,o=e.expireTime,a=e.bypassYn,r=e.modifyHistReason;this.$https.put("/policy/oneTimeUrl/"+s,{expireTime:o,bypassYn:a,modifyHistReason:r}).then(function(){t.item.isEdit=!1,i.items[t.index]=t.item,i.originItems[t.index]=n({},t.item)}).catch(function(e){console.log(e),i.onView(t)})},showHistory:function(t){var i=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/policy/oneTimeUrl/hist/"+t.item.popId).then(function(t){i.history.items=t.data.items})}}}},758:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"animated fadeIn"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("section",{staticClass:"board"},[e("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"expireTime",fn:function(i){return[i.item.isEdit?e("span",[e("b-form-input",{staticClass:"inline",staticStyle:{width:"60px"},attrs:{type:"text",size:"sm"},model:{value:i.item.expireTime,callback:function(t){i.item.expireTime=t},expression:"row.item.expireTime"}}),t._v(" 초\n            ")],1):e("span",[t._v(t._s(i.value)+" 초")])]}},{key:"bypassYn",fn:function(i){return[i.item.isEdit?e("c-switch",t._b({attrs:{type:"icon",variant:"success",pill:!0},model:{value:i.item.bypassYn,callback:function(t){i.item.bypassYn=t},expression:"row.item.bypassYn"}},"c-switch",{on:"",off:""},!1)):e("b-badge",{attrs:{pill:"",variant:i.value?"success":"secondary"}},[t._v("\n              "+t._s(i.value?"사용":"미사용")+"\n            ")])]}},{key:"action",fn:function(i){return[i.item.isEdit?e("span",[e("b-button",{attrs:{type:"button",size:"sm",variant:"danger"},on:{click:function(e){t.onView(i)}}},[t._v("취소")]),t._v(" "),e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){t.onSubmit(i)}}},[t._v("저장")])],1):e("span",[e("b-button",{attrs:{type:"button",size:"sm",variant:"outline-primary"},on:{click:function(e){t.showHistory(i)}}},[t._v("이력")]),t._v(" "),e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(e){t.onEdit(i)}}},[t._v("수정")])],1)]}}])})],1)])]),t._v(" "),e("b-modal",{attrs:{size:"lg",title:"이력관리"},model:{value:t.isModalHistory,callback:function(i){t.isModalHistory=i},expression:"isModalHistory"}},[e("section",{staticClass:"board"},[e("b-table",{attrs:{striped:"",bordered:"",hover:"","show-empty":"",items:t.history.items,fields:t.history.fields},scopedSlots:t._u([{key:"bypassYn",fn:function(i){return[t._v("\n          "+t._s(i.value?"사용":"미사용")+"\n        ")]}}])})],1),t._v(" "),e("div",{slot:"modal-footer"},[e("b-button",{attrs:{type:"button",size:"sm",variant:"primary"},on:{click:function(i){t.isModalHistory=!1}}},[e("i",{staticClass:"fa fa-dot-circle-o"}),t._v(" 확인")])],1)])],1)},n=[],o={render:s,staticRenderFns:n};i.a=o}});